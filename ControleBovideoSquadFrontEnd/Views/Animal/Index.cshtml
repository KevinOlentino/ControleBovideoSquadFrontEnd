<div class="container col-xxl-8 px-4 py-4">
    <h1 class="display-5 text-center">Lista das entradas de animais</h1>
    <br>
    <p class="blockquote-footer text-center">
        Listagem, inserção e cancelamento das entradas de animais
    </p>
</div>
<button type="button" data-bs-toggle="modal" href="#adicionarAnimal" role="button" class="btn btn-success col-md-3 mt-2"> Adicionar</button>
<div>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Quantidade total</th>
                <th>Quantidade vacinada</th>
                <th>Espécie</th>
                <th>Propriedade</th>
                <th>Cancelar</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: animais">
            <tr>
                <td data-bind="text: $data.quantidadeTotal"></td>
                <td data-bind="text: $data.quantidadeVacinada"></td>
                <td data-bind="text: $data.especieAnimal.nome"></td>
                <td data-bind="text: $data.propriedadeAnimal.nome"></td>
                <td><button type="button" class="btn btn-danger" data-bind="click: $parent.cancelarEntrada">Cancelar</button></td>
            </tr>
        </tbody>
    </table>
</div>
<!-- Modal de inserção de animais -->
<div class="modal fade" #modal id="adicionarAnimal" aria-hidden="true" aria-labelledby="adicionarAnimalLabel"
     tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content container">
            <div class="container">
                <div class="modal-header">
                    <button class="btn btn-close" data-bs-dismiss="modal" #buttonClose></button>
                </div>
                <form class="row p-3" id="formAnimal" method="POST">
                    <div class="col-md-6">
                        <label for="inputQuantidadeTotal" class="form-label">Quantidade total</label>
                        <input type="number" name="quantidadeTotal" class="form-control" data-bind="value: quantidadeTotal" id="inputQuantidadeTotal" value=0>
                    </div>
                    <div class="col-md-6">
                        <label for="inputQuantidadeVacinada" class="form-label">Quantidade vacinada</label>
                        <input type="number" name="quantidadeVacinada" class="form-control" data-bind="value: quantidadeVacinada" id="inputQuantidadeVacinada" value=0>
                    </div>
                    <div class="col-md-4">
                        <label for="inputEspecie" class="form-label">Espécie</label>
                        <select data-bind="options: especies,
                            optionsText: 'nome',
                            value: especieSelecionada,
                            optionsValue: 'idEspecie'" name="idEspecie" id="inputEspecie" class="form-select">
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="inputPropriedade" class="form-label">Propriedade</label>
                        <select data-bind="options: propriedades,
                            optionsText: 'nome',
                            value: propriedadeSelecionada,
                            optionsValue: 'idPropriedade'" name="idPropriedade" id="inputPropriedade" class="form-select">
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="inputTipoEntrada" class="form-label">Tipo de entrada</label>
                        <select data-bind="options: tiposDeEntrada,
                            optionsText: 'nome',
                            optionsValue: 'idTipoDeEntrada',
                            value: tipoDeEntradaSelecionada" name="idTipoEntrada" id="inputTipoEntrada" class="form-select">
                        </select>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-success" data-bind="click: salvarEntrada">Cadastrar</button>
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="position-fixed bottom-0 end-0 p-3 " style="z-index: 11" >
    <div class="toast align-items-center text-white bg-danger border-0 fade" id="toastNotificacao" role="alert"
        aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body" id="toastMsg"></div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                aria-label="Close"></button>
        </div>
    </div>
</div>
@section scripts{
    <script src='../js/animalViewModel.js'></script>
}
